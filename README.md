# `auto-default`

<!--
NOTE: Do not edit this file, it is generated by `cargo-rdme` using this build:

    cargo install --git https://github.com/angrynode/cargo-rdme --rev 6fdc08b9150c730bac63f037fb9328aee46b7fe8

edit `lib.rs` instead, then re-run `cargo rdme` to re-generate this file 
-->

<!-- cargo-rdme start -->

[![crates.io](https://img.shields.io/crates/v/auto-default?style=flat-square&logo=rust)](https://crates.io/crates/auto-default)
[![docs.rs](https://img.shields.io/badge/docs.rs-auto-default-blue?style=flat-square&logo=docs.rs)](https://docs.rs/auto-default)
![license](https://img.shields.io/badge/license-Apache--2.0_OR_MIT-blue?style=flat-square)
![msrv](https://img.shields.io/badge/msrv-nightly-blue?style=flat-square&logo=rust)
[![github](https://img.shields.io/github/stars/nik-rev/auto-default)](https://github.com/nik-rev/auto-default)

Rust's [default field values](https://github.com/rust-lang/rust/issues/132162) allow
the shorthand `Struct { field, .. }` instead of the lengthy `Struct { field, ..Default::default() }`

For this syntax to work (`..` instead of `..Default::default()`),
your `Struct` needs **all** fields to have a default value.

This often means lots of `= Default::default()` boilerplate on every field, because it is
very common to want field defaults to be the value of their `Default` implementation

This crate provides an attribute macro `#[auto_default]`, which adds `= Default::default()` to every
field that does not have a default value.

<table>
<tr>
<th>Before</th>
<th>After</th>
</tr>
<tr>
<td>

```rust
#[derive(Default)]
pub struct Layout {
    order: u32 = Default::default(),
    location: Point<f32> = Default::default(),
    size: Size<f32> = Default::default(),
    content_size: Size<f32> = Default::default(),
    scrollbar_size: Size<f32> = Default::default(),
    border: Rect<f32> = Default::default(),
    padding: Rect<f32> = Default::default(),
    margin: Rect<f32> = Default::default(),
}
```

</td>
<td>

```rust
#[auto_default]
pub struct Layout {
    order: u32,
    location: Point<f32>,
    size: Size<f32>,
    content_size: Size<f32>,
    scrollbar_size: Size<f32>,
    border: Rect<f32>,
    padding: Rect<f32>,
    margin: Rect<f32>,
}
```

</td>
</tr>
</table>

```toml
[dependencies]
auto-default = "0.1"
```

Note: `auto-default` has *zero* dependencies. Not even `syn`! The compile times are very fast.

<!-- cargo-rdme end -->
